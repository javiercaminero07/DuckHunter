/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 */

package com.mycompany.duckhunter;
import java.util.Scanner;

/**
 *
 * @author aclemente
 */
public class DuckHunter {

    public static void main(String[] args) {        
        Scanner llegir = new Scanner(System.in);
        
        System.out.println("Benvingut al joc 'Duck Hunter'. Si us plau, introdueix la mida de la zona de lloc.");
        System.out.println("La mida horitzontal ha de ser entre 20 i 40 caselles: ");
        
        int x = llegir.nextInt();
    while (x < 20 || x > 40) {
        System.out.println("La mida horitzontal ha de ser entre 20 i 40 caselles: ");
        x = llegir.nextInt();
    }

    System.out.println("La mida vertical ha de ser entre 10 i 20 caselles: ");
    int y = llegir.nextInt();
    while (y < 10 || y > 20) {
        System.out.println("La mida vertical ha de ser entre 10 i 20 caselles: ");
        y = llegir.nextInt();
    }    
    
    String [][]tauler = new String [y][x];
    
    for (int i = 0; i < tauler.length; i++){
    for (int j = 0; j < tauler[0].length; j++){
        tauler[i][j] = "*";
        }
    }
    
    /* CreaciÃ³ de les fiches */           
        int jx = (int) (Math.random() * x);
        int jy = (int) (Math.random() * y);
        
        int dx = (int) (Math.random() * x);
        int dy = (int) (Math.random() * y);
        
        int gx = (int) (Math.random() * x);
        int gy = (int) (Math.random() * y);
        
        int xx = (int) (Math.random() * x);
        int xy = (int) (Math.random() * y);
       
        tauler[jy][jx] = "J"; 
        tauler[dy][dx] = "D"; 
        tauler[gy][gx] = "G"; 
        tauler[xy][xx] = "X"; 
        
        
        for(int f=0; f<tauler.length; f++){
            for (int c = 0; c < tauler[0].length; c++) {
            System.out.print(tauler[f][c] + " ");
        }
            System.out.println();
        }


        /* Bucle sense pollete */ 
        do{
            System.out.println("Moute amb WASD: ");
            String moviment = llegir.nextLine();
            moviment = moviment.toUpperCase();
            
            if (moviment.equals("")){
                continue;
            }
            else{
            /* Moviment Jugador */  
            switch (moviment) {
                case "W":
                    tauler[jy][jx] = "*";
                    tauler[jy + 1][jx] = "J";
                    break;
                case "S":
                    tauler[jy][jx] = "*";
                    tauler[jy - 1][jx] = "J";
                    break;
                case "A":
                    tauler[jy][jx] = "*";
                    tauler[jy][jx -1] = "J";           
                    break;
                case "D":
                    tauler[jy][jx] = "*";
                    tauler[jy][jx + 1] = "J";
                    break;
            }
     /* Moviment Guineu + Si la guineu atrapa a Pollete */       
            if (gy > dy){
                tauler[gy][gx] = "*";
                tauler[gy - 1][gx] = "G";
            }else if (gy < dy){
                tauler[gy][gx] = "*";
                tauler[gy + 1][gx] = "G"; 
            }
            else if (gx > dx){
                tauler[gy][gx] = "*";
                tauler[gy][gx - 1] = "G";
            }else if (gx < dx){
                tauler[gy][gx] = "*";
                tauler[gy][gx + 1] = "G"; 
            }
            if (gy == dy && gx == dx){
                System.out.println("La guineu s'ha menjat al pollet/a/e \n Fi de la partida");
                /* For per a imprimir el tauler */ 
                break;
            }
            
            for(int f=0; f<tauler.length; f++){
                for (int c = 0; c < tauler[0].length; c++) {
                    System.out.print(tauler[f][c] + " ");
                }
                System.out.println();
            }
            moviment = "";
            }

        }while(!(jx == dx && jy == dy));
        System.out.println("Has agafat al Pollet/a/e \n Ara toca escapar de la Guineu corre cap a la X");
        /* For per a imprimir el tauler */ 
            
        /* Bucle amb Pollete agafat */ 
        do{
            System.out.println("Moute amb WASD: ");
            String moviment = llegir.nextLine();
            moviment = moviment.toUpperCase();

            switch (moviment) {
                case "W":
                    tauler[jy][jx] = "*";
                    tauler[jy][jx + 1] = "J";
                    break;
                case "S":
                    tauler[jy][jx] = "*";
                    tauler[jy][jx - 1] = "J";
                    break;
                case "A":
                    tauler[jy][jx] = "*";
                    tauler[jy - 1][jx] = "J";           
                    break;
                case "D":
                    tauler[jy][jx] = "*";
                    tauler[jy + 1][jx] = "J";
                    break;
            }
            
        /* Moviment Pollete */
            switch (moviment) {
                case "W":
                    tauler[dy][dx] = "*";
                    tauler[jy][jx] = "D";
                    break;
                case "S":
                    tauler[dy][dx] = "*";
                    tauler[jy][jx] = "D";
                    break;
                case "A":
                    tauler[dy][dx] = "*";
                    tauler[jy][jx] = "D";        
                    break;
                case "D":
                    tauler[dy][dx] = "*";
                    tauler[jy][jx] = "D";
                    break;
            }           
        
     /* Moviment Guineu + Si la guineu atrapa a Pollete */       
            if (gy > dy){
                tauler[gy - 1][gx] = "G";
            }else if (gx < dx){
                tauler[gy + 1][gx] = "G";         
            }
            if (gx > dx){
                tauler[gy][gx - 1] = "G";
            }else if (gx < dx){
                tauler[gy][gx + 1] = "G";         
            }
            if (gx == dx && gy == dy){
                System.out.println("La guineu s'ha menjat al pollet/a/e \n Fi de la partida");
                /* For per a imprimir el tauler */ 
                break;
            }        
        }while(!(xx == jx && xy == jy));
        System.out.println("Has salvat al Pollet/a/e \n felicitats!!!!!!!!!!!!!!");
        /* For per a imprimir el tauler */ 



    }
}
